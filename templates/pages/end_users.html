<div class="page-content active">
  <div class="page-header">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div>
        <h2>ğŸ‘¥ <span data-i18n="end_users_page_title">End Users</span></h2>
        <p style="color:#6B7280" data-i18n="end_users_page_subtitle">Manage beneficiaries and end users</p>
      </div>
      <button class="btn btn-success" onclick="euOpenAddModal()">
        â• <span data-i18n="add_end_user">Add End User</span>
      </button>
    </div>
  </div>

  <!-- End Users List -->
  <div class="form-card">
    <div style="margin-bottom:1rem">
      <h3 data-i18n="end_users_list">End Users List</h3>
      <p style="color:#6B7280;font-size:.95rem">
        <span data-i18n="total_end_users">Total End Users:</span>
        <strong id="end-users-count">0</strong>
      </p>
    </div>
    <div style="overflow-x:auto">
      <table class="data-table">
        <thead>
          <tr>
            <th style="width:50px">#</th>
            <th data-i18n="name">Name</th>
            <th data-i18n="eu_description">Description</th>
            <th style="width:150px" data-i18n="actions">Actions</th>
          </tr>
        </thead>
        <tbody id="end-users-table-body">
          <tr><td colspan="4" style="text-align:center;padding:2rem;color:#9CA3AF" data-i18n="loading_end_users">Loading end users...</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Add / Edit Modal -->
  <div id="end-user-modal" class="popup-overlay" style="display:none">
    <div class="popup-content" style="max-width:500px">
      <div class="popup-header">
        <h3 class="popup-title" id="modal-title">Add End User</h3>
        <button class="popup-close" onclick="euCloseModal()">Ã—</button>
      </div>
      <div style="padding:1.5rem">
        <div class="form-group">
          <label for="end-user-name" data-i18n="name">Name <span style="color:red">*</span></label>
          <input type="text" id="end-user-name" class="form-input" autocomplete="name"
                 placeholder="Enter name" required>
        </div>
        <div class="form-group">
          <label for="end-user-description" data-i18n="eu_description">Description</label>
          <input type="text" id="end-user-description" class="form-input"
                 placeholder="Optional â€” e.g. Emergency Project, Ministry of Healthâ€¦">
        </div>
      </div>
      <div class="btn-group">
        <button class="btn btn-primary" onclick="euSaveEndUser()" id="save-btn">
          ğŸ’¾ <span data-i18n="save">Save</span>
        </button>
        <button class="btn btn-secondary" onclick="euCloseModal()" data-i18n="cancel">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Delete Confirmation Modal -->
  <div id="delete-modal" class="popup-overlay" style="display:none">
    <div class="popup-content" style="max-width:450px">
      <div class="popup-header">
        <h3 class="popup-title">âš ï¸ <span data-i18n="confirm_delete">Confirm Delete</span></h3>
        <button class="popup-close" onclick="euCloseDeleteModal()">Ã—</button>
      </div>
      <div style="padding:1.5rem">
        <p data-i18n="confirm_delete_end_user">Are you sure you want to delete this end user?</p>
        <p style="color:#DC2626;font-weight:600;margin-top:.5rem" id="delete-end-user-name"></p>
      </div>
      <div class="btn-group">
        <button class="btn btn-danger" onclick="euConfirmDelete()" id="confirm-delete-btn">
          ğŸ—‘ï¸ <span data-i18n="delete">Delete</span>
        </button>
        <button class="btn btn-secondary" onclick="euCloseDeleteModal()" data-i18n="cancel">Cancel</button>
      </div>
    </div>
  </div>
</div>
